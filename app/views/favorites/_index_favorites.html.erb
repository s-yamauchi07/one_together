<% if user_signed_in? %>
    <% if spot.favorited_by?(current_user, spot) %>
      <%= link_to spot_favorite_path(spot, spot.favorites.find_by(user_id: current_user.id)), method: :delete, remote: true  do %>
        <i class="fa-solid fa-heart fav"></i>
        <p class="favorites-count"><%= spot.favorites.count %></p>
      <% end %>  
    <% else %>
      <%= link_to spot_favorites_path(spot), method: :post, remote: true  do %>
        <i class="fa-solid fa-heart"></i>
        <p class="favorites-count not-yet"><%= spot.favorites.count %></p>
      <% end %>  
    <% end %>
<% end %>