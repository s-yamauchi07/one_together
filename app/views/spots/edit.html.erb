<div id="edit-form">
    <%= form_with model: @spot, url: spots_path(@spot), method: :patch,id:"registration-form", local: true  do |f|  %>
      <%= render 'shared/error_messages', model: f.object %>
      <div id="registration-table">
        <div class="left-form">
          <div>
            <%= f.label :name, 'スポット名' %><br>
            <%= f.text_field :name, id:"place-name"%>
          </div>

          <div>
            <%= f.label :address, '住所' %><br>
            <%= f.text_field :address, id:"place-address"%>
          </div>

          <div>
            <%= f.label :phone_number, '電話番号' %><br>
            <%= f.text_field :phone_number, id:"place-number"%>
          </div>

          <div>
            <%= f.label :website, 'webサイト' %><br>
            <%= f.text_field :website, id:"place-site"%>
          </div>

          <div>
            <%= f.label :website, '都道府県' %><br>
            <%= f.collection_select(:prefecture_id, Prefecture.all, :id, :name, {}, {}) %>
          </div>

          <div>
            <%= f.label :website, '施設タイプ' %><br>
            <%= f.collection_select(:spot_type_id, SpotType.all, :id, :name, {}, {}) %>
          </div>

          <div>
            <%= f.label :website, '同伴' %><br>
            <%= f.collection_select(:dog_permission_id, DogPermission.all, :id, :name, {}, {}) %>
          </div>

          <div>
            <%= f.label :website, 'ワンちゃんサイズ' %><br>
            <%= f.collection_select(:dog_size_id, DogSize.all, :id, :name, {}, {}) %>
          </div>

          <div>
            <%= f.label :name, '口コミ' %><br>
            <%= f.text_area :comment, id:"place-comment" %>
          </div>

          <div>
            <%= f.label :name, 'タグ' %><br>
            <input id="tag-name", placeholder="タグ" ><span id="add-tag-btn">タグ保存</span>
            <div id="tag-search-result"></div>
            <div id="show-attached-tag">
              <% @spot.tags.each do |tag|%>
                <span><%= tag.tag_name %></span>
              <% end %>
            </div>
          </div>
        </div>

        <div id="place-image" class="right-form">
          <p>画像</p>
          <div id="previews">
            <%= f.label :spot_images,class: "fa-solid fa-camera fa-3x add-image",id:"data-index=0" do %>
            <%= f.file_field :spot_images, name: "spot_tag[spot_images][]", data: {index: 0} %>
            <% end %>
          </div>
          <div id="min-preview">
            <%= f.label :spot_images,class: "fa-solid fa-camera fa-2x",id:"data-index=1" do %>
            <%= f.file_field :spot_images, name: "spot_tag[spot_images][]", data: {index: 1} %>
            <% end %>
            <%= f.label :spot_images,class: "fa-solid fa-camera fa-2x",id:"data-index=2" do %>
            <%= f.file_field :spot_images, name: "spot_tag[spot_images][]", data: {index: 2} %>
            <% end %>
            <%= f.label :spot_images,class: "fa-solid fa-camera fa-2x",id:"data-index=3" do %>
            <%= f.file_field :spot_images, name: "spot_tag[spot_images][]", data: {index: 3} %>
            <% end %>
          </div>
        </div>
      </div>

      <%= f.submit id:"create-spot-btn"%>
    <% end %>
</div>