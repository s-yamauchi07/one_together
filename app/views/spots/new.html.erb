<h2>新規登録ページ</h2>
<div class="input-area">
  <p>スポット名入力</p>
  <input type="text" id="search-window" >
  <input type="button" value="search" id="search-btn" >
</div>

<div id="map-wrapper">
  <div id="map-detail">
    <h2>スポット詳細</h2>
    <table>
      <tr>
        <th>スポット名</th>
        <td id="spot-name"></td>
      </tr>
      <tr>
        <th>住所</th>
        <td id="spot-address"></td>
      </tr>
      <tr>
        <th>電話番号</th>
        <td id="spot-phonenumber"></td>
      </tr>
      <tr>
        <th>webページ</th>
        <td id="spot-url"></td>
      </tr>
    </table>
    <input type="submit" value="登録する" id="registration">
  </div>
  <div id="map"></div>
</div>

<%# 入力エリア %>
  <div id="registration-modal">
    <%= form_with model: @spot_tag, url: spots_path, id:"registration-form", local: true  do |f|  %>
      <%= render 'shared/error_messages', model: f.object %>
      <div id="registration-table">
        <div class="left-form">
          <div>
            <%= f.label :name, 'スポット名' %><br>
            <%= f.text_field :name, id:"place-name"%>
          </div>

          <div>
            <%= f.label :address, '住所' %><br>
            <%= f.text_field :address, id:"place-address"%>
          </div>

          <div>
            <%= f.label :phone_number, '電話番号' %><br>
            <%= f.text_field :phone_number, id:"place-number"%>
          </div>

          <div>
            <%= f.label :website, 'webサイト' %><br>
            <%= f.text_field :website, id:"place-site"%>
          </div>

          <div>
            <%= f.label :website, '都道府県' %><br>
            <%= f.collection_select(:prefecture_id, Prefecture.all, :id, :name, {}, {}) %>
          </div>

          <div>
            <%= f.label :website, '施設タイプ' %><br>
            <%= f.collection_select(:spot_type_id, SpotType.all, :id, :name, {}, {}) %>
          </div>

          <div>
            <%= f.label :website, '同伴' %><br>
            <%= f.collection_select(:dog_permission_id, DogPermission.all, :id, :name, {}, {}) %>
          </div>

          <div>
            <%= f.label :website, 'ワンちゃんサイズ' %><br>
            <%= f.collection_select(:dog_size_id, DogSize.all, :id, :name, {}, {}) %>
          </div>

          <div>
            <%= f.label :name, '口コミ' %><br>
            <%= f.text_area :comment, id:"place-comment" %>
          </div>

          <div>
            <%= f.label :name, 'タグ' %><br>
            <input id="tag-name", placeholder="タグ" ><span id="add-tag-btn">タグ保存</span>
            <div id="tag-search-result"></div>
          </div>
        </div>

        <div id="place-image" class="right-form">
          <p>画像</p>
          <div id="previews">
            <%= f.label :spot_images,class: "fa-solid fa-camera fa-3x add-image",id:"data-index=0" do %>
            <%= f.file_field :spot_images, name: "spot_tag[spot_images][]", data: {index: 0} %>
            <% end %>
          </div>
          <div id="min-preview">
            <%= f.label :spot_images,class: "fa-solid fa-camera fa-2x",id:"data-index=1" do %>
            <%= f.file_field :spot_images, name: "spot_tag[spot_images][]", data: {index: 1} %>
            <% end %>
            <%= f.label :spot_images,class: "fa-solid fa-camera fa-2x",id:"data-index=2" do %>
            <%= f.file_field :spot_images, name: "spot_tag[spot_images][]", data: {index: 2} %>
            <% end %>
            <%= f.label :spot_images,class: "fa-solid fa-camera fa-2x",id:"data-index=3" do %>
            <%= f.file_field :spot_images, name: "spot_tag[spot_images][]", data: {index: 3} %>
            <% end %>
          </div>
        </div>
      </div>

      <%= f.submit id:"create-spot-btn"%>
    <% end %>
  </div>
</div>